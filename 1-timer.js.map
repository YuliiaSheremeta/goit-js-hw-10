{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\n\nimport iziToast from \"izitoast\";\n\nlet userSelectedDate = null;\nlet countdownInterval = null;\n\nconst startButton = document.querySelector('.button-start');\n\nconst timerDisplay = {\n    days: document.querySelector('.days'),\n    hours: document.querySelector('.hours'),\n    minutes: document.querySelector('.minutes'),\n    seconds: document.querySelector('.seconds'),\n};\nstartButton.disabled = true;\nflatpickr(\"#datetime-picker\", {  \n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n      userSelectedDate = selectedDates[0];\n      const currentDate = new Date();\n\n      if (userSelectedDate < currentDate) { \n         showAlert(\"Please choose a date in the future\");\n          startButton.disabled = true;\n      } else { startButton.disabled = false; };\n},\n});\n\nstartButton.addEventListener('click', () => {\n    startButton.disabled = true;\n    document.querySelector('#datetime-picker').disabled = true;\n    startCountdown(userSelectedDate);\n});\n\nfunction startCountdown(targetDate) { \n    clearInterval(countdownInterval);\n    \n    countdownInterval = setInterval(() => {\n        const currentDate = new Date();\n        const ms = targetDate - currentDate;\n        if (ms <= 0) {\n            clearInterval(countdownInterval);\n            timerDisplay.days.textContent = '00';\n            timerDisplay.hours.textContent = '00';\n            timerDisplay.minutes.textContent = '00';\n            timerDisplay.seconds.textContent = '00';\n            document.getElementById('datetime-picker').disabled = false;\n            return;\n        }\n\n        const timeComponents = convertMs(ms);\n        timerDisplay.days.textContent = String(timeComponents.days).padStart(2, '0');\n        timerDisplay.hours.textContent = String(timeComponents.hours).padStart(2, '0');\n        timerDisplay.minutes.textContent = String(timeComponents.minutes).padStart(2, '0');\n        timerDisplay.seconds.textContent = String(timeComponents.seconds).padStart(2, '0');\n    }, 1000);\n \n};\nfunction convertMs(ms) {\n  \n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  \n  const days = Math.floor(ms / day);\n \n  const hours = Math.floor((ms % day) / hour);\n \n  const minutes = Math.floor(((ms % day) % hour) / minute);\n \n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n};\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n};\n function showAlert(message) {\n    iziToast.show({\n        title: \"Error\",\n        message: Error,\n        position: 'topCenter',\n        timeout: 4000,\n    });\n}\n\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\nconsole.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\nconsole.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n"],"names":["userSelectedDate","countdownInterval","startButton","timerDisplay","flatpickr","selectedDates","showAlert","startCountdown","targetDate","ms","timeComponents","convertMs","days","hours","minutes","seconds","message","iziToast"],"mappings":"+IAIA,IAAIA,EAAmB,KACnBC,EAAoB,KAExB,MAAMC,EAAc,SAAS,cAAc,eAAe,EAEpDC,EAAe,CACjB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACtC,QAAS,SAAS,cAAc,UAAU,EAC1C,QAAS,SAAS,cAAc,UAAU,CAC9C,EACAD,EAAY,SAAW,GACvBE,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBL,EAAmBK,EAAc,CAAC,EAG9BL,EAFgB,IAAI,MAGrBM,EAA8C,EAC7CJ,EAAY,SAAW,IAClBA,EAAY,SAAW,EACtC,CACA,CAAC,EAEDA,EAAY,iBAAiB,QAAS,IAAM,CACxCA,EAAY,SAAW,GACvB,SAAS,cAAc,kBAAkB,EAAE,SAAW,GACtDK,EAAeP,CAAgB,CACnC,CAAC,EAED,SAASO,EAAeC,EAAY,CAChC,cAAcP,CAAiB,EAE/BA,EAAoB,YAAY,IAAM,CAElC,MAAMQ,EAAKD,EADS,IAAI,KAExB,GAAIC,GAAM,EAAG,CACT,cAAcR,CAAiB,EAC/BE,EAAa,KAAK,YAAc,KAChCA,EAAa,MAAM,YAAc,KACjCA,EAAa,QAAQ,YAAc,KACnCA,EAAa,QAAQ,YAAc,KACnC,SAAS,eAAe,iBAAiB,EAAE,SAAW,GACtD,MACH,CAED,MAAMO,EAAiBC,EAAUF,CAAE,EACnCN,EAAa,KAAK,YAAc,OAAOO,EAAe,IAAI,EAAE,SAAS,EAAG,GAAG,EAC3EP,EAAa,MAAM,YAAc,OAAOO,EAAe,KAAK,EAAE,SAAS,EAAG,GAAG,EAC7EP,EAAa,QAAQ,YAAc,OAAOO,EAAe,OAAO,EAAE,SAAS,EAAG,GAAG,EACjFP,EAAa,QAAQ,YAAc,OAAOO,EAAe,OAAO,EAAE,SAAS,EAAG,GAAG,CACpF,EAAE,GAAI,CAEX,CACA,SAASC,EAAUF,EAAI,CAQrB,MAAMG,EAAO,KAAK,MAAMH,EAAK,KAAG,EAE1BI,EAAQ,KAAK,MAAOJ,EAAK,MAAO,IAAI,EAEpCK,EAAU,KAAK,MAAQL,EAAK,MAAO,KAAQ,GAAM,EAEjDM,EAAU,KAAK,MAASN,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAG,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAIC,SAAST,EAAUU,EAAS,CACzBC,EAAS,KAAK,CACV,MAAO,QACP,QAAS,MACT,SAAU,YACV,QAAS,GACjB,CAAK,CACL,CAEA,QAAQ,IAAIN,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}